{
  "file_systems": {
    "title": "Файловые системы",
    "junior": [
      {
        "question": "Какой каталог является корневым в Linux?",
        "options": ["/root", "/home", "/", "/usr"],
        "correct": 2
      },
      {
        "question": "Какой командой можно просмотреть содержимое каталога?",
        "options": ["cd", "ls", "cat", "pwd"],
        "correct": 1
      },
      {
        "question": "Что делает команда `pwd`?",
        "options": ["Меняет директорию", "Показывает текущий путь", "Создаёт файл", "Удаляет файл"],
        "correct": 1
      },
      {
        "question": "Какой файл содержит информацию о монтировании файловых систем при загрузке?",
        "options": ["/etc/fstab", "/etc/mtab", "/etc/rc.local", "/boot/grub.cfg"],
        "correct": 0
      },
      {
        "question": "Чем отличается soft link от hard link?",
        "options": ["inode общий", "inode разный, soft link - символическая ссылка", "RW права", "Нет различий"],
        "correct": 1
      }
    ],
    "middle": [
      {
        "question": "Какой каталог содержит конфиги ядра, смонтированные как псевдо-ФС?",
        "options": ["/proc", "/sys", "/run", "/dev"],
        "correct": 1
      },
      {
        "question": "Что покажет `uname -r`?",
        "options": ["Версию ОС", "Версию ядра", "Хостнейм", "Архитектуру"],
        "correct": 1
      },
      {
        "question": "`chmod 640 file` выдаёт права…",
        "options": ["rw-r-----", "rw-r--r--", "rwxr-x---", "rw-rw----"],
        "correct": 0
      },
      {
        "question": "Каким инструментом измерить I/O диска в реальном времени?",
        "options": ["htop", "iostat", "vmstat", "strace"],
        "correct": 1
      },
      {
        "question": "Слой copy-on-write используют…",
        "options": ["LVM", "OverlayFS", "ext4", "NFS"],
        "correct": 1
      }
    ],
    "senior": [
      {
        "question": "Что делает `chroot /mnt`?",
        "options": ["Меняет pidns", "Меняет root dir", "Меняет user", "Меняет cwd"],
        "correct": 1
      },
      {
        "question": "Утилита для перезаписи MBR нулями:",
        "options": ["fsck", "mkfs", "dd", "hdparm"],
        "correct": 2
      },
      {
        "question": "Какой флаг mount делает ФС только для чтения?",
        "options": ["-o ro", "-o rw", "-r", "-w"],
        "correct": 0
      },
      {
        "question": "Что такое inode в файловой системе?",
        "options": ["Имя файла", "Структура с метаданными файла", "Блок данных", "Таблица разделов"],
        "correct": 1
      },
      {
        "question": "Какая команда покажет использование inodes?",
        "options": ["df -h", "df -i", "du -h", "ls -i"],
        "correct": 1
      }
    ]
  },
  "permissions": {
    "title": "Права и пользователи",
    "junior": [
      {
        "question": "Что делает команда `chmod +x script.sh`?",
        "options": ["Удаляет файл", "Меняет владельца файла", "Добавляет право на исполнение", "Показывает содержимое файла"],
        "correct": 2
      },
      {
        "question": "Команда для отображения групп пользователя:",
        "options": ["id -nG", "whoami", "groups -l", "passwd -l"],
        "correct": 0
      },
      {
        "question": "Какой файл содержит информацию о пользователях системы?",
        "options": ["/etc/passwd", "/etc/shadow", "/etc/group", "/etc/users"],
        "correct": 0
      },
      {
        "question": "Какая команда меняет владельца файла?",
        "options": ["chmod", "chown", "chgrp", "usermod"],
        "correct": 1
      },
      {
        "question": "Что означает права 755?",
        "options": ["rwxr-xr-x", "rw-r--r--", "rwxrwxrwx", "r-xr-xr-x"],
        "correct": 0
      }
    ],
    "middle": [
      {
        "question": "Файл для задания ulimits глобально:",
        "options": ["/etc/security/limits.conf", "/etc/profile", "/etc/fstab", "/etc/login.defs"],
        "correct": 0
      },
      {
        "question": "Какой файл хранит зашифрованные пароли пользователей?",
        "options": ["/etc/passwd", "/etc/shadow", "/etc/group", "/etc/gshadow"],
        "correct": 1
      },
      {
        "question": "Что делает SUID бит на исполняемом файле?",
        "options": ["Запускает от имени владельца", "Запускает от имени группы", "Запрещает выполнение", "Делает файл неизменяемым"],
        "correct": 0
      },
      {
        "question": "Как добавить пользователя в группу без удаления из других групп?",
        "options": ["usermod -G", "usermod -aG", "groupadd", "useradd -g"],
        "correct": 1
      },
      {
        "question": "Что делает sticky bit на каталоге?",
        "options": ["Только владелец может удалять свои файлы", "Запрещает запись", "Разрешает выполнение", "Скрывает каталог"],
        "correct": 0
      }
    ],
    "senior": [
      {
        "question": "Какая подсистема Linux управляет мандатным контролем доступа?",
        "options": ["iptables", "SELinux/AppArmor", "PAM", "sudo"],
        "correct": 1
      },
      {
        "question": "Что такое capabilities в Linux?",
        "options": ["Права пользователя", "Разделённые привилегии root", "Группы пользователей", "ACL записи"],
        "correct": 1
      },
      {
        "question": "Какой командой установить capability CAP_NET_BIND_SERVICE?",
        "options": ["chmod", "setcap", "chown", "setfacl"],
        "correct": 1
      },
      {
        "question": "Что делает команда `getfacl`?",
        "options": ["Устанавливает ACL", "Показывает ACL", "Удаляет ACL", "Копирует ACL"],
        "correct": 1
      },
      {
        "question": "PAM модуль для ограничения ресурсов пользователя:",
        "options": ["pam_limits", "pam_unix", "pam_env", "pam_wheel"],
        "correct": 0
      }
    ]
  },
  "processes": {
    "title": "Процессы",
    "junior": [
      {
        "question": "Какой процесс имеет PID 1 в Linux?",
        "options": ["systemd/init", "kernel", "sshd", "bash"],
        "correct": 0
      },
      {
        "question": "Какая команда показывает запущенные процессы?",
        "options": ["ls", "ps", "top", "ps и top"],
        "correct": 3
      },
      {
        "question": "Как завершить процесс по PID?",
        "options": ["stop PID", "kill PID", "end PID", "close PID"],
        "correct": 1
      },
      {
        "question": "Что возвращает `$?` в bash?",
        "options": ["PID", "Exit code", "Кол-во аргументов", "UID"],
        "correct": 1
      },
      {
        "question": "Какой командой запустить процесс в фоне?",
        "options": ["command &", "bg command", "nohup command", "command & и nohup"],
        "correct": 0
      }
    ],
    "middle": [
      {
        "question": "Какой ключ `ps` выводит дерево процессов?",
        "options": ["-e", "-f", "-u", "--forest или -H"],
        "correct": 3
      },
      {
        "question": "Какой сигнал безопасно завершает процесс для сохранения данных?",
        "options": ["SIGKILL", "SIGSTOP", "SIGTERM", "SIGHUP"],
        "correct": 2
      },
      {
        "question": "`nice -n -10` делает процесс…",
        "options": ["Менее приоритетным", "Более приоритетным", "Останавливает", "Убивает"],
        "correct": 1
      },
      {
        "question": "Что делает команда `nohup`?",
        "options": ["Запускает с низким приоритетом", "Игнорирует SIGHUP", "Запускает в фоне", "Останавливает процесс"],
        "correct": 1
      },
      {
        "question": "Как посмотреть открытые файлы процесса?",
        "options": ["ps -f", "lsof -p PID", "top -p PID", "cat /proc/PID"],
        "correct": 1
      }
    ],
    "senior": [
      {
        "question": "Что такое zombie процесс?",
        "options": ["Процесс без памяти", "Завершённый, но не собранный родителем", "Процесс в swap", "Процесс без CPU"],
        "correct": 1
      },
      {
        "question": "Какой системный вызов создаёт новый процесс?",
        "options": ["exec", "fork", "spawn", "clone"],
        "correct": 1
      },
      {
        "question": "Что такое cgroups?",
        "options": ["Группы пользователей", "Контрольные группы для ограничения ресурсов", "Группы процессов", "Группы файлов"],
        "correct": 1
      },
      {
        "question": "Как ограничить CPU для процесса через cgroups v2?",
        "options": ["cpu.max", "cpu.shares", "cpu.limit", "cpu.quota"],
        "correct": 0
      },
      {
        "question": "Что делает системный вызов `execve`?",
        "options": ["Создаёт процесс", "Заменяет образ процесса", "Завершает процесс", "Клонирует процесс"],
        "correct": 1
      }
    ]
  },
  "resources": {
    "title": "Системные ресурсы",
    "junior": [
      {
        "question": "Какая команда показывает использование дискового пространства?",
        "options": ["ls -l", "df -h", "du", "df -h и du"],
        "correct": 3
      },
      {
        "question": "Какая команда показывает использование памяти?",
        "options": ["mem", "free", "ram", "memory"],
        "correct": 1
      },
      {
        "question": "Что показывает команда `top`?",
        "options": ["Файлы", "Процессы и ресурсы в реальном времени", "Сеть", "Диски"],
        "correct": 1
      },
      {
        "question": "Какая команда показывает загрузку CPU?",
        "options": ["cpu", "uptime", "load", "cpuinfo"],
        "correct": 1
      },
      {
        "question": "Что такое swap в Linux?",
        "options": ["Кэш диска", "Область подкачки на диске", "RAM диск", "Буфер сети"],
        "correct": 1
      }
    ],
    "middle": [
      {
        "question": "Что показывает load average 1.0 на одноядерной системе?",
        "options": ["50% загрузка", "100% загрузка", "Перегрузка", "Простой"],
        "correct": 1
      },
      {
        "question": "Какой файл показывает информацию о памяти?",
        "options": ["/proc/meminfo", "/proc/cpuinfo", "/sys/memory", "/etc/memory"],
        "correct": 0
      },
      {
        "question": "Что такое OOM Killer?",
        "options": ["Антивирус", "Механизм завершения процессов при нехватке памяти", "Планировщик", "Драйвер"],
        "correct": 1
      },
      {
        "question": "Какая утилита показывает I/O по процессам?",
        "options": ["top", "iotop", "htop", "atop"],
        "correct": 1
      },
      {
        "question": "Что показывает vmstat?",
        "options": ["Только VM", "Статистику памяти, CPU, I/O", "Только диски", "Только сеть"],
        "correct": 1
      }
    ],
    "senior": [
      {
        "question": "Как настроить oom_score_adj для процесса?",
        "options": ["nice", "echo значение > /proc/PID/oom_score_adj", "renice", "choom"],
        "correct": 1
      },
      {
        "question": "Что такое NUMA?",
        "options": ["Тип памяти", "Архитектура неравномерного доступа к памяти", "Файловая система", "Сетевой протокол"],
        "correct": 1
      },
      {
        "question": "Какой параметр ядра отключает swap?",
        "options": ["swapoff", "vm.swappiness=0", "noswap", "swap=off"],
        "correct": 1
      },
      {
        "question": "Что делает параметр vm.overcommit_memory?",
        "options": ["Управляет кэшем", "Управляет выделением виртуальной памяти", "Управляет swap", "Управляет hugepages"],
        "correct": 1
      },
      {
        "question": "Как включить huge pages?",
        "options": ["hugepages=on", "vm.nr_hugepages", "enable_hugepages", "hugepages.enable"],
        "correct": 1
      }
    ]
  },
  "systemd": {
    "title": "Сервисы (systemd)",
    "junior": [
      {
        "question": "Что такое systemd?",
        "options": ["Файловая система", "Система инициализации и менеджер служб", "Сетевой протокол", "База данных"],
        "correct": 1
      },
      {
        "question": "Как запустить сервис через systemd?",
        "options": ["systemd start nginx", "systemctl start nginx", "service nginx start", "start nginx"],
        "correct": 1
      },
      {
        "question": "Как проверить статус сервиса?",
        "options": ["systemctl status nginx", "systemd status nginx", "nginx status", "service nginx"],
        "correct": 0
      },
      {
        "question": "Как включить автозапуск сервиса?",
        "options": ["systemctl enable nginx", "systemctl autostart nginx", "systemctl boot nginx", "enable nginx"],
        "correct": 0
      },
      {
        "question": "Где находятся файлы сервисов systemd?",
        "options": ["/etc/init.d", "/etc/systemd/system и /lib/systemd/system", "/etc/services", "/var/systemd"],
        "correct": 1
      }
    ],
    "middle": [
      {
        "question": "Что делает `journalctl -u nginx`?",
        "options": ["Фильтр логов по unit", "Очистка лога", "Перезапуск", "Сжатие"],
        "correct": 0
      },
      {
        "question": "Где systemd хранит юниты пользователя?",
        "options": ["~/.config/systemd/user", "/usr/lib/systemd", "/etc/init.d", "/run/systemd"],
        "correct": 0
      },
      {
        "question": "Какой runlevel отвечает за многопользовательский режим с сетью?",
        "options": ["1", "3", "5", "6"],
        "correct": 1
      },
      {
        "question": "Как перезагрузить конфигурацию systemd?",
        "options": ["systemctl reload", "systemctl daemon-reload", "systemd reload", "reload systemd"],
        "correct": 1
      },
      {
        "question": "Что делает директива Restart=always в unit файле?",
        "options": ["Перезапуск при любом завершении", "Перезапуск при ошибке", "Никогда не перезапускать", "Перезапуск по таймеру"],
        "correct": 0
      }
    ],
    "senior": [
      {
        "question": "Что такое systemd target?",
        "options": ["Цель сборки", "Группа юнитов, аналог runlevel", "Лог файл", "Конфиг сети"],
        "correct": 1
      },
      {
        "question": "Как создать таймер systemd для периодического запуска?",
        "options": ["crontab", "Создать .timer unit", "systemctl timer", "at"],
        "correct": 1
      },
      {
        "question": "Что делает директива PrivateTmp=true?",
        "options": ["Шифрует /tmp", "Изолирует /tmp для сервиса", "Удаляет /tmp", "Монтирует tmpfs"],
        "correct": 1
      },
      {
        "question": "Как ограничить память для сервиса в systemd?",
        "options": ["MemoryLimit", "MemoryMax", "LimitMEM", "MemoryHigh"],
        "correct": 1
      },
      {
        "question": "Что делает директива Type=notify?",
        "options": ["Отправляет email", "Сервис сообщает о готовности через sd_notify", "Логирует в journald", "Запускает в фоне"],
        "correct": 1
      }
    ]
  },
  "networking": {
    "title": "Сети",
    "junior": [
      {
        "question": "SSH (Secure Shell) - это...",
        "options": ["Файловая система", "Протокол для безопасного удалённого управления", "База данных", "Веб-сервер"],
        "correct": 1
      },
      {
        "question": "`/etc/hosts` читается раньше, чем…",
        "options": ["DNS", "ARP", "DHCP", "NTP"],
        "correct": 0
      },
      {
        "question": "Какая команда показывает сетевые интерфейсы?",
        "options": ["netstat", "ip a", "ifconfig", "ip a и ifconfig"],
        "correct": 3
      },
      {
        "question": "Какой порт по умолчанию у SSH?",
        "options": ["21", "22", "23", "80"],
        "correct": 1
      },
      {
        "question": "Что делает команда `ping`?",
        "options": ["Сканирует порты", "Проверяет доступность хоста", "Передаёт файлы", "Настраивает сеть"],
        "correct": 1
      }
    ],
    "middle": [
      {
        "question": "Команда, показывающая открытые порты и PID:",
        "options": ["top", "ss -tlnp", "lsof", "du"],
        "correct": 1
      },
      {
        "question": "`ssh -L 8080:localhost:80 user@host` это…",
        "options": ["Dynamic port forwarding", "Reverse tunnel", "Local port forwarding", "SOCKS proxy"],
        "correct": 2
      },
      {
        "question": "Как показать только IP адреса интерфейсов?",
        "options": ["ip a", "ip -brief a", "ifconfig", "route -n"],
        "correct": 1
      },
      {
        "question": "Какой файл описывает static network в systemd-networkd?",
        "options": ["*.network", "*.link", "*.netdev", "*.service"],
        "correct": 0
      },
      {
        "question": "`grep -E \"^#?Port\" /etc/ssh/sshd_config` ищет…",
        "options": ["Настройку порта SSH", "SSH ключ", "Пользователя", "Subsystem"],
        "correct": 0
      }
    ],
    "senior": [
      {
        "question": "Что такое network namespace в Linux?",
        "options": ["DNS зона", "Изолированный сетевой стек", "VLAN", "Подсеть"],
        "correct": 1
      },
      {
        "question": "Как создать veth пару интерфейсов?",
        "options": ["ip link add", "brctl addbr", "veth create", "netns add"],
        "correct": 0
      },
      {
        "question": "Что делает iptables -t nat -A POSTROUTING -j MASQUERADE?",
        "options": ["Блокирует трафик", "NAT для исходящего трафика", "Перенаправляет порты", "Логирует пакеты"],
        "correct": 1
      },
      {
        "question": "Какая подсистема заменяет iptables в новых ядрах?",
        "options": ["firewalld", "nftables", "ufw", "ipset"],
        "correct": 1
      },
      {
        "question": "Что такое eBPF в контексте сетей?",
        "options": ["Файловая система", "Программируемый фильтр пакетов в ядре", "DNS сервер", "VPN протокол"],
        "correct": 1
      }
    ]
  },
  "boot": {
    "title": "Загрузка ОС",
    "junior": [
      {
        "question": "Какой загрузчик чаще всего используется в Linux?",
        "options": ["LILO", "GRUB", "BOOTMGR", "NTLDR"],
        "correct": 1
      },
      {
        "question": "Где находится конфигурация GRUB?",
        "options": ["/boot/grub/grub.cfg", "/etc/grub.conf", "/boot/loader", "/grub/config"],
        "correct": 0
      },
      {
        "question": "Что такое initramfs?",
        "options": ["Файловая система", "Начальный RAM-диск для загрузки", "Swap раздел", "Кэш загрузки"],
        "correct": 1
      },
      {
        "question": "Какой runlevel отвечает за перезагрузку?",
        "options": ["0", "1", "5", "6"],
        "correct": 3
      },
      {
        "question": "Что делает команда `reboot`?",
        "options": ["Выключает систему", "Перезагружает систему", "Переходит в спящий режим", "Выходит из сессии"],
        "correct": 1
      }
    ],
    "middle": [
      {
        "question": "Как обновить конфигурацию GRUB после изменений?",
        "options": ["grub-install", "update-grub или grub-mkconfig", "grub-update", "rebuild-grub"],
        "correct": 1
      },
      {
        "question": "Что такое UEFI?",
        "options": ["Файловая система", "Интерфейс между ОС и прошивкой", "Загрузчик", "Драйвер"],
        "correct": 1
      },
      {
        "question": "Где хранятся загрузочные файлы UEFI?",
        "options": ["/boot", "/boot/efi (ESP раздел)", "/efi", "/uefi"],
        "correct": 1
      },
      {
        "question": "Как загрузиться в single user mode через GRUB?",
        "options": ["Добавить single или 1 к параметрам ядра", "Нажать F8", "Выбрать recovery", "Изменить runlevel"],
        "correct": 0
      },
      {
        "question": "Что делает параметр ядра quiet?",
        "options": ["Отключает звук", "Скрывает сообщения загрузки", "Отключает логи", "Ускоряет загрузку"],
        "correct": 1
      }
    ],
    "senior": [
      {
        "question": "Что такое Secure Boot?",
        "options": ["Шифрование диска", "Проверка подписи загрузчика и ядра", "Пароль BIOS", "Firewall"],
        "correct": 1
      },
      {
        "question": "Как подписать ядро для Secure Boot?",
        "options": ["gpg --sign", "sbsign или pesign", "openssl sign", "kernel-sign"],
        "correct": 1
      },
      {
        "question": "Что такое dracut?",
        "options": ["Загрузчик", "Генератор initramfs", "Менеджер пакетов", "Файловая система"],
        "correct": 1
      },
      {
        "question": "Как добавить модуль в initramfs?",
        "options": ["modprobe", "Изменить конфиг dracut/mkinitcpio и пересобрать", "insmod", "lsmod"],
        "correct": 1
      },
      {
        "question": "Что делает параметр ядра init=/bin/bash?",
        "options": ["Запускает bash вместо init", "Меняет shell по умолчанию", "Отключает systemd", "Включает отладку"],
        "correct": 0
      }
    ]
  },
  "bash": {
    "title": "Bash и автоматизация",
    "junior": [
      {
        "question": "Что делает `set -e` в bash-скрипте?",
        "options": ["Игнорирует ошибки", "Выход при ошибке", "Трассировка", "Экспорт переменных"],
        "correct": 1
      },
      {
        "question": "Правильный shebang для bash:",
        "options": ["#!/bin/sh", "#!/usr/bin/env bash", "#!bash", "#!/bin/zsh"],
        "correct": 1
      },
      {
        "question": "Перенаправить stderr в stdout:",
        "options": ["1>&2", "2>&1", "&>1", "2>1"],
        "correct": 1
      },
      {
        "question": "Синтаксис here-doc:",
        "options": ["<<EOF", "<>EOF", "<<<EOF", "<<|EOF"],
        "correct": 0
      },
      {
        "question": "Запустить скрипт без +x:",
        "options": ["run script", "bash script.sh", "./script.sh", "exec script"],
        "correct": 1
      }
    ],
    "middle": [
      {
        "question": "Что делает `set -u` в bash?",
        "options": ["Игнорирует переменные", "Ошибка при использовании неопределённой переменной", "Трассировка", "Ничего"],
        "correct": 1
      },
      {
        "question": "Что делает `set -o pipefail`?",
        "options": ["Возвращает 0 при успехе", "Возвращает ошибку если любая команда в pipe упала", "Фоновый режим", "Alias"],
        "correct": 1
      },
      {
        "question": "Записать stdout+stderr в файл:",
        "options": [">file 2>&1 или &>file", "1>file", "2>file", ">>file"],
        "correct": 0
      },
      {
        "question": "${VAR:-default} означает…",
        "options": ["Всегда default", "Если VAR пусто или не задано — default", "Если VAR задано — default", "Обрезать default"],
        "correct": 1
      },
      {
        "question": "Одинарные vs двойные кавычки:",
        "options": ["Обе экранируют", "Обе раскрывают переменные", "Двойные раскрывают переменные", "Одинарные раскрывают"],
        "correct": 2
      }
    ],
    "senior": [
      {
        "question": "Что делает trap в bash?",
        "options": ["Ловит ошибки", "Обрабатывает сигналы", "Создаёт подпроцесс", "Логирует"],
        "correct": 1
      },
      {
        "question": "Как запустить команду в subshell?",
        "options": ["{ cmd; }", "( cmd )", "cmd &", "[cmd]"],
        "correct": 1
      },
      {
        "question": "Что делает eval в bash?",
        "options": ["Проверяет синтаксис", "Выполняет строку как команду", "Экспортирует переменную", "Читает файл"],
        "correct": 1
      },
      {
        "question": "Как получить PID последнего фонового процесса?",
        "options": ["$?", "$!", "$$", "$0"],
        "correct": 1
      },
      {
        "question": "Что делает set -x?",
        "options": ["Выход при ошибке", "Печатает каждую команду перед выполнением", "Отключает алиасы", "Включает strict mode"],
        "correct": 1
      }
    ]
  }
}
